Template.inputDates.onRendered(function(){
  this.$('.datetimepicker').datetimepicker({
      allowInputToggle:true,
      inline:false,
      sideBySide: false,
      minDate: moment(),
      format: 'MM/DD/YYYY',  //date only
      useCurrent: false,
      showTodayButton: true
  });


});
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Template.inputDates.events({
  "blur input[name='startdate']": function(event, template){
    let date= $("input[name='startdate']").val();
    console.log("start date: "+date);
    if(date === "" || $.trim(date)===""){
      Bert.alert("Start date field is empty!", "warning");
    }
    if(!moment(date, "MM/DD/YYYY").isValid()){
      Bert.alert("This is not a valid date format!", "warning");
    }
  },
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  "blur input[name='enddate']": function(event, template){
    let date= $("input[name='enddate']").val();
    console.log("end date: "+date);
    if(date === "" || $.trim(date)===""){
      Bert.alert("End date field is empty!", "warning");
    }
    if(!moment(date, "MM/DD/YYYY").isValid()){
      Bert.alert("This is not a valid date format!", "warning");
    }
  },
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  "dp.change input[name='startdate']": function(e){
    $('input[name="enddate"]').data("DateTimePicker").minDate(e.date);
  },
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  "dp.change input[name='enddate']": function(e){
    $('input[name="startdate"]').data("DateTimePicker").maxDate(e.date);
  }
});
